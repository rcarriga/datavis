(this.webpackJsonpdatavis=this.webpackJsonpdatavis||[]).push([[0],{246:function(e,t,a){e.exports=a(373)},251:function(e,t,a){},373:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(73),c=a.n(l),i=(a(251),function(){return r.a.createElement("div",{className:"hero has-background-dark is-bold is-large"},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title has-text-light"},"Assignments for Data Visualisation"),r.a.createElement("h2",{className:"subtitle has-text-light"},"Click on a name in the navbar to view the corresponding graph."))))}),o=a(64),s=a(201),m=a.n(s),u=function(e){return r.a.createElement("div",{className:"hero has-background-".concat(e.background)},r.a.createElement("div",{className:"hero-body"},r.a.createElement("div",{className:"container"},r.a.createElement("h1",{className:"title has-text-".concat(e.text)},e.name),r.a.createElement("h2",{className:"subtitle has-text-".concat(e.text)},e.subtext))))},d=a(39),h=a(202),b=a.n(h),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"CSV",a=arguments.length>2?arguments[2]:void 0,r=Object(n.useState)(a||[]),l=Object(d.a)(r,2),c=l[0],i=l[1];return Object(n.useEffect)((function(){fetch("data/".concat(e)).then((function(e){"CSV"===t?e.text().then((function(e){b.a.parse(e,{header:!0,skipEmptyLines:!0,complete:function(e){i(e.data)}})})):e.json().then(i)}))}),[e,t]),c},E=a(419),f=a(421),g=a(422),v=a(424),y=a(425),x=a(420),N=function(){var e=p("minard_cities.csv"),t=p("minard_dates.csv"),a=p("minard_soldiers.csv");return r.a.createElement("div",{className:"has-background-white container",style:{height:"100%",width:"100%"}},r.a.createElement(u,{name:"Minard's Map",subtext:"Submission for Assignment 1.2 Part B",background:"success",text:"light"}),r.a.createElement("div",{style:{height:"100%",width:"100%"}},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement(k,{cities:e,soldiers:a,dates:t})))))))},k=function(e){var t=e.dates,a=e.cities,n=e.soldiers,l=Math.max.apply(Math,Object(o.a)(n.map((function(e){return Number(e.SURV)})))),c=function(e){return 30*Number(e)/l},i=t.map((function(e){return Number(e.TEMP)})),s=Math.min.apply(Math,Object(o.a)(i)),u=m.a.scale(["hsl(200, 100%, 80%)","hsl(217, 71%, 43%)"]).mode("lab"),d=t.reduce((function(e,t){return Number(t.DAYS)+e}),0),h=function(e){return r.a.createElement("g",null,r.a.createElement("text",{x:e.x-3,y:e.y+30,style:{fontSize:8}},"0\xb0C"),r.a.createElement("text",{x:e.x+62,y:e.y+30,style:{fontSize:8}},"".concat(s,"\xb0C")),r.a.createElement("rect",{x:e.x,y:e.y,width:70,height:20,style:{fill:"url(#tempScale)"}}))};return r.a.createElement("div",null,r.a.createElement("svg",null,r.a.createElement("defs",null,r.a.createElement("linearGradient",{id:"temp",x1:"1",x2:"0",y1:"0",y2:"0"},t.map((function(e,a){return r.a.createElement("stop",{key:a,offset:"".concat(Math.round(t.slice(0,a).reduce((function(e,t){return e+Number(t.DAYS)}),0)/d*100),"%"),stopColor:"".concat(u(Math.abs(Number(e.TEMP)/s)))})}))),r.a.createElement("linearGradient",{id:"tempScale"},r.a.createElement("stop",{offset:"0%",stopColor:"hsl(200, 100%, 80%)"}),r.a.createElement("stop",{offset:"100%",stopColor:"hsl(217, 71%, 53%)"})))),r.a.createElement(E.a,null,n.reduce((function(e,t){return e.row?{row:t,lines:[].concat(Object(o.a)(e.lines),[r.a.createElement(f.a,{domain:{y:[53,56],x:[23.5,38]},key:t.LONP,style:{data:{strokeWidth:c(e.row.SURV),stroke:"A"===e.row.DIR?"hsl(141, 71%, 48%)":"hsl(348, 100%, 61%)",strokeLinecap:"round"}},data:[{x:Number(e.row.LONP),y:Number(e.row.LATP)},{x:Number(t.LONP),y:Number(t.LATP)}]})])}:{lines:[],row:t}}),{row:void 0,lines:[]}).lines,r.a.createElement(g.a,{domain:{y:[53,56],x:[23.5,38]},data:a.map((function(e){return{x:Number(e.LONC),y:Number(e.LATC),label:e.CITY}})),size:2,style:{labels:{fontSize:5},data:{fill:"black"}}}),r.a.createElement(v.a,{domain:{y:[53,56],x:[23.5,38]},style:{data:{fill:"url(#temp)"}},data:[{y:53.5,x:23.5},{y:53.5,x:38}]}),r.a.createElement(y.a,{x:55,y:0,style:{labels:{fontSize:10}},orientation:"vertical",gutter:20,colorScale:["hsl(141, 71%, 48%)","hsl(348, 100%, 61%)"],data:[{name:"Arriving"},{name:"Returning"}]}),r.a.createElement(y.a,{x:150,y:5,dataComponent:r.a.createElement(h,null),style:{labels:{fontSize:0}},gutter:20,data:[{name:"Arriving"}]}),r.a.createElement(x.a,{style:{axis:{display:"none"},tickLabels:{display:"none"}}})))},O=a(418),w=a(376),j=a(427),C=a(426),S=a(414),A=a(149).VictoryChart,M=a(147).VictoryPolarAxis,L=function(){var e=p("nightingale.csv"),t=Object(n.useState)([0,11]),a=Object(d.a)(t,2),l=a[0],c=a[1],i=Object(n.useState)(0),o=Object(d.a)(i,2),s=o[0],m=o[1];return r.a.createElement("div",{className:"has-background-light",style:{height:"100%",width:"100%"}},r.a.createElement(u,{name:"Nightingale's Rose Chart",subtext:"Submission for Assignment 1.2 Part A",background:"info",text:"light"}),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},r.a.createElement("div",{className:"columns"},r.a.createElement("div",{className:"column"},r.a.createElement(P,{rotation:s,data:e.slice(l[0],l[1]),deathTypes:Object.keys(e[0]||{}).filter((function(e){return!["Month","Size"].includes(e)}))})),r.a.createElement("div",{className:"column"},r.a.createElement(R,{rotation:s,setRotation:m,range:l,setRange:c,dates:Object.values(e).map((function(e){return e.Month})).filter((function(e){return e}))})))))))},P=function(e){var t=e.data,a=e.deathTypes,n=e.rotation,l=t.map((function(e){return e.Month}));return r.a.createElement(A,{startAngle:n,endAngle:360+n,theme:w.a.material,polar:!0,height:400,width:400},r.a.createElement(M,{labelPlacement:"vertical",tickValues:l}),r.a.createElement(j.a,null,a.map((function(e,a){var n=t.map((function(t){var a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=Math.pow(10,t);return Math.floor(e*a)/a}(12e3*Number(t[e])/Number(t.Size))||0;return{y:a,x:t.Month,label:"".concat(e," Death Rate in ").concat(t.Month,": ").concat(a)}}));return(r.a.createElement(C.a,{labelComponent:r.a.createElement(S.a,null),animate:!0,key:a,data:n}))}))))},R=function(e){return r.a.createElement("div",{className:"container",style:{maxWidth:300}},r.a.createElement("strong",null,"Date Range"),r.a.createElement("div",null,e.dates[e.range[0]]+" - "+e.dates[e.range[1]]),r.a.createElement("div",null,r.a.createElement(O.a,{value:e.range,max:e.dates.length-1,onChange:function(t,a){return"number"!==typeof a&&a[0]-a[1]<-2&&e.setRange(a)}})),r.a.createElement("strong",null,"Rotation"),r.a.createElement("div",null,r.a.createElement(O.a,{value:e.rotation,max:360,onChange:function(t,a){return"number"===typeof a&&e.setRotation(a)}})))},T=a(117),z=a(224),V=a(417),D=a(227),J=a.n(D),W=a(228),Y=a.n(W),I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],B=["Unconditional","Conditional","Refused"],U={Unconditional:"rgb(0, 255, 0)",Conditional:"rgb(255, 255, 0)",Refused:"rgb(255, 0, 0)"},F=a(119),G=a.n(F),H=a(225),_=a.n(H),q=a(226),$=a.n(q),K=a(30),Q=a.n(K),X=a(230),Z=a(367);window.proj4=X.a,$()(Z),_()(Z);var ee=function(e){var t=e.data,a=Object(n.useRef)(null),l=Object(n.useState)(2011),c=Object(d.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)("Jan"),m=Object(d.a)(s,2),u=m[0],h=m[1];return r.a.createElement("div",{className:"columns",ref:a},r.a.createElement("div",{className:"column is-three-quarters"},r.a.createElement(ae,{data:t,year:i,month:u})),r.a.createElement("div",{className:"column"},r.a.createElement(te,{month:u,setYear:o,years:Q.a.keys(t.points).map(Number),year:i,setMonth:h,months:Q.a.keys(t.points[i]||{}).map(Number)})))},te=function(e){var t=e.year,a=e.month,l=e.years,c=e.setYear,i=e.setMonth,o=Object(n.useRef)(!1),s=Object(n.useState)({}),m=Object(d.a)(s,2)[1];return Object(n.useEffect)((function(){setTimeout((function(){if(o.current){var e=function(e,t,a){return 2020===t&&"Feb"===e?["Jan",a[0]]:"Dec"===e?["Jan",a[(a.indexOf(t)+1)%a.length]]:[I[I.indexOf(e)+1],t]}(a,t,l),n=Object(d.a)(e,2),r=n[0],s=n[1];i(r),s!==t&&c(s)}}),1e3)}),[o.current,t,a,i,c,l]),r.a.createElement("div",{className:"container",style:{maxWidth:250,marginTop:"40px"}},r.a.createElement("div",{className:"box has-background-light"},r.a.createElement("strong",null,"Year"),r.a.createElement("div",null,t),r.a.createElement("div",null,r.a.createElement(O.a,{max:l.length-1,value:l.indexOf(t),onChange:function(e,t){return"number"===typeof t&&c(l[t])}})),r.a.createElement("strong",null,"Month"),r.a.createElement("div",null,a),r.a.createElement("div",null,r.a.createElement(O.a,{max:11,value:I.indexOf(a),onChange:function(e,t){return"number"===typeof t&&i(I[t])}})),o.current?r.a.createElement("div",{onClick:function(){m({}),o.current=!1},style:{cursor:"pointer",display:"flex"}},r.a.createElement(V.a,null,r.a.createElement(J.a,null)),r.a.createElement("p",{style:{cursor:"pointer",lineHeight:"45px"}},"Pause Timeline")):r.a.createElement("div",{style:{cursor:"pointer",display:"flex"},onClick:function(){m({}),o.current=!0}},r.a.createElement(V.a,null,r.a.createElement(Y.a,null)),r.a.createElement("p",{style:{cursor:"pointer",lineHeight:"45px"}},"Play Timeline"))))},ae=function(e){var t,a=null===(t=e.data.points[e.year])||void 0===t?void 0:t[e.month],n=a?B.map((function(e){return re(e,a.filter((function(t){return t.decision===e})))})):[];return r.a.createElement(G.a,{options:ne(n),highcharts:Z,constructorType:"mapChart"})},ne=function(e){return{chart:Object(T.a)({},{map:z},{height:"100%",animation:{}}),credits:{enabled:!1},title:{text:"Decisions of Planning Applications"},tooltip:{enabled:!1},series:[{type:"map",name:"Basemap",borderColor:"#A0A0A0",nullColor:"rgba(200, 200, 200, 0.3)",showInLegend:!1}].concat(Object(o.a)(e))}},re=function(e,t){var a=U[e];return{name:e,color:"rgb(".concat(a,")"),type:"mappoint",turboThreshold:0,data:t,dataLabels:{enabled:!1},marker:{enabled:!0,symbol:"circle",states:{hover:{lineWidth:0,radiusPlus:0}},fillColor:{stops:[[0,1],[.7,.2],[1,0]].map((function(e){return[e[0],a.replace(")",", ".concat(e[1],")")).replace("rgb","rgba")]})),radialGradient:{r:10,cx:.5,cy:.5}}},cluster:{enabled:!0,allowOverlap:!1,zones:Q.a.zip(Q.a.range(0,1e3,30),Q.a.range(30,1e3,30)).map((function(e){return e[1]?{from:e[0],to:e[1]-1,marker:{radius:Math.pow(Math.log(e[1]),2)}}:{}}))}}},le=a(118),ce=a(86);a(369)(ce);var ie=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement(G.a,{options:oe(e.data),highcharts:ce}))},oe=function(e){var t=Object(n.useRef)(!0),a=Object(n.useState)(!1),r=Object(d.a)(a,2)[1],l=Q.a.mapValues(e.words,(function(e){return e.slice(0,25).reduce((function(e,t){return e+t[1]}),0)})),c=se(e.words);return{chart:{type:t.current?"packedbubble":"column",height:"70%",events:{click:function(){r(!t.current),t.current=!t.current}}},xAxis:{categories:c.xAxis},title:{text:"Common word in planning applications."},subtitle:{text:"Click the graph to change view."},tooltip:{useHTML:!0,pointFormat:"<b>{point.name}</b>: Occurrs in <b>{point.y}%</b> ({point.custom.count}) of {point.custom.decision} decisions."},plotOptions:{series:{stacking:"normal"},packedbubble:{minSize:"20%",maxSize:"100%",layoutAlgorithm:{gravitationalConstant:.2,splitSeries:!0,parentNodeLimit:!0},dataLabels:{enabled:!0,format:"{point.name}",style:{color:"black",textOutline:"none",fontWeight:"normal"}}}},series:Q.a.map(e.words,(function(e,t){return{name:t,color:U[t],stack:"normal",marker:{lineColor:"black"},data:c.data[t].map((function(e,a){return{name:c.xAxis[a],y:me(100*e/l[t]),value:me(100*e/l[t]),custom:{count:e,decision:t.toLowerCase()}}})).filter((function(e){return e.name}))}}))}},se=function(e){var t=Q.a.mapValues(e,(function(e){return e.reduce((function(e,t){return Object(T.a)({},e,Object(le.a)({},t[0],t[1]))}),{})})),a=Q.a.union.apply(Q.a,Object(o.a)(Q.a.map(e,(function(e){return e.slice(0,25).map((function(e){return e[0]}))})))).sort();return{xAxis:a,data:Q.a.mapValues(e,(function(e,n){return a.map((function(e){return t[n][e]||0}))}))}},me=function(e){return Math.round(e*Math.pow(10,2))/Math.pow(10,2)},ue=function(){var e=p("points.json","JSON",{points:{},words:{}});return(r.a.createElement("div",{className:"has-background-light"},r.a.createElement(u,{name:"Planning Applications Ireland",subtext:"Submission for Assignment 3",background:"danger",text:"light"}),r.a.createElement("div",{className:"container has-background-white"},r.a.createElement("div",{className:"box"},r.a.createElement(ee,{data:e}),r.a.createElement(ie,{data:e})))))},de=a(81),he=a(65);var be=function(){return r.a.createElement(de.a,{basename:"/datavis"},r.a.createElement("div",{className:"has-background-grey-lighter",style:{height:"100%"}},r.a.createElement("div",null,r.a.createElement("div",{className:"navbar has-background-white",role:"navigation"},r.a.createElement("div",{className:"navbar-brand"},r.a.createElement(de.b,{to:"/",className:"navbar-item"},r.a.createElement("p",{className:"title is-4",style:{marginLeft:10}},"DataVis"))),r.a.createElement("div",{className:"navbar-menu is-active"},r.a.createElement("div",{className:"navbar-start"},r.a.createElement(de.b,{to:"/nightingale",className:"navbar-item"},r.a.createElement("div",{className:"subtitle is-6"},"Nightingale")),r.a.createElement(de.b,{to:"/minard",className:"navbar-item"},r.a.createElement("div",{className:"subtitle is-6"},"Minard")),r.a.createElement(de.b,{to:"/planning",className:"navbar-item"},r.a.createElement("div",{className:"subtitle is-6"},"Planning Applications"))))),r.a.createElement(he.c,null,r.a.createElement(he.a,{path:"/nightingale"},r.a.createElement(L,null)),r.a.createElement(he.a,{path:"/minard"},r.a.createElement(N,null)),r.a.createElement(he.a,{path:"/planning"},r.a.createElement(ue,null)),r.a.createElement(he.a,{path:"/"},r.a.createElement(i,null))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(371),a(372);c.a.render(r.a.createElement(be,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[246,1,2]]]);
//# sourceMappingURL=main.f6f2a9dd.chunk.js.map